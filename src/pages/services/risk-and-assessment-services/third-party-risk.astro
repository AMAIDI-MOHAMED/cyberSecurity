---
import Layout from '@/layouts/Layout.astro';
import Icon from '@/components/ui/icons/Icon.astro';
import Button from '@/components/ui/Button.astro';

const currentPath = Astro.url.pathname;
const lang = currentPath.startsWith('/fi') ? 'fi' : 'en';

const title = lang === 'fi' ? 'Kolmannen osapuolen riskit' : 'Third-Party Risk';
const description = lang === 'fi' 
  ? 'Toteuta täydellinen TPRM-elinkaari: perehdyttäminen, due diligence, sopimusvalvonta ja jatkuva seuranta.'
  : 'Implement a complete TPRM lifecycle: onboarding, due diligence, contractual controls, and continuous monitoring.';

const tprmComponents = [
  {
    icon: 'user-plus',
    titleFi: 'Toimittajan perehdytys',
    titleEn: 'Vendor Onboarding',
    descFi: 'Strukturoitu prosessi uusien toimittajien arviointiin ja hyväksyntään',
    descEn: 'Structured process for evaluating and approving new vendors'
  },
  {
    icon: 'search',
    titleFi: 'Due Diligence',
    titleEn: 'Due Diligence',
    descFi: 'Perusteellinen taustatutkimus ja riskiarviointi',
    descEn: 'Thorough background research and risk assessment'
  },
  {
    icon: 'file-text',
    titleFi: 'Sopimusvalvonta',
    titleEn: 'Contractual Controls',
    descFi: 'Turvallisuusvaatimukset ja -klausuulit sopimuksissa',
    descEn: 'Security requirements and clauses in contracts'
  },
  {
    icon: 'activity',
    titleFi: 'Jatkuva seuranta',
    titleEn: 'Continuous Monitoring',
    descFi: 'Toimittajien riskiprofiilin säännöllinen arviointi',
    descEn: 'Regular assessment of vendor risk profiles'
  }
];

const riskCategories = [
  {
    icon: 'shield',
    titleFi: 'Kyberturvariskit',
    titleEn: 'Cybersecurity Risks',
    descFi: 'Toimittajien tietoturvariskit ja haavoittuvuudet',
    enDesc: 'Vendor cybersecurity risks and vulnerabilities'
  },
  {
    icon: 'database',
    titleFi: 'Tietojen käsittely',
    titleEn: 'Data Processing',
    descFi: 'Henkilötietojen ja liikesalaisuuksien käsittely',
    enDesc: 'Personal data and confidential information processing'
  },
  {
    icon: 'globe',
    titleFi: 'Sääntelyriskit',
    titleEn: 'Regulatory Risks',
    descFi: 'Compliance-vaatimukset ja lakien noudattaminen',
    enDesc: 'Compliance requirements and legal adherence'
  },
  {
    icon: 'trending-down',
    titleFi: 'Operatiiviset riskit',
    titleEn: 'Operational Risks',
    descFi: 'Palvelun saatavuus ja liiketoiminnan jatkuvuus',
    enDesc: 'Service availability and business continuity'
  }
];

const tprmLifecycle = [
  {
    titleFi: 'Tunnistaminen ja luokittelu',
    titleEn: 'Identification and Classification',
    itemsFi: ['Toimittajainventaario', 'Kriittisyysluokittelu', 'Riskitasojen määrittely', 'Palvelukategorioiden mapping'],
    itemsEn: ['Vendor inventory', 'Criticality classification', 'Risk level definition', 'Service category mapping']
  },
  {
    titleFi: 'Arviointi ja hyväksyntä',
    titleEn: 'Assessment and Approval',
    itemsFi: ['Due diligence -prosessi', 'Turvallisuusarviointi', 'Referenssien tarkistus', 'Hyväksyntäprosessi'],
    itemsEn: ['Due diligence process', 'Security assessment', 'Reference checks', 'Approval process']
  },
  {
    titleFi: 'Sopimushalinta',
    titleEn: 'Contract Management',
    itemsFi: ['Turvallisuusklausuulit', 'SLA-vaatimukset', 'Audit-oikeudet', 'Irtisanomisehdot'],
    itemsEn: ['Security clauses', 'SLA requirements', 'Audit rights', 'Termination conditions']
  },
  {
    titleFi: 'Jatkuva hallinta',
    titleEn: 'Ongoing Management',
    itemsFi: ['Säännölliset arvioinnit', 'KRI-seuranta', 'Incident-hallinta', 'Suorituskyvyn seuranta'],
    itemsEn: ['Regular assessments', 'KRI monitoring', 'Incident management', 'Performance monitoring']
  }
];

const assessmentCriteria = [
  {
    icon: 'shield-check',
    titleFi: 'Tietoturvataso',
    titleEn: 'Security Level',
    descFi: 'ISO 27001, SOC 2, ja muut sertifikaatit',
    enDesc: 'ISO 27001, SOC 2, and other certifications'
  },
  {
    icon: 'map',
    titleFi: 'Maantieteellinen sijainti',
    titleEn: 'Geographic Location',
    descFi: 'Tietojen sijainti ja lainsäädäntöriskit',
    enDesc: 'Data location and jurisdictional risks'
  },
  {
    icon: 'users',
    titleFi: 'Organisaation kypsyys',
    titleEn: 'Organizational Maturity',
    descFi: 'Hallintamallit ja prosessien kypsyys',
    enDesc: 'Governance models and process maturity'
  },
  {
    icon: 'trending-up',
    titleFi: 'Taloudellinen vakaus',
    titleEn: 'Financial Stability',
    descFi: 'Luottokelpoisuus ja taloudellinen tilanne',
    enDesc: 'Creditworthiness and financial situation'
  }
];

const process = [
  { step: '1', fi: 'Inventaario', en: 'Inventory', fiDesc: 'Toimittajien kartoitus ja luokittelu', enDesc: 'Vendor mapping and classification' },
  { step: '2', fi: 'Riskiarviointi', en: 'Risk Assessment', fiDesc: 'Toimittajakohtainen riskianalyysi', enDesc: 'Vendor-specific risk analysis' },
  { step: '3', fi: 'Due Diligence', en: 'Due Diligence', fiDesc: 'Perusteellinen taustatutkimus', enDesc: 'Thorough background investigation' },
  { step: '4', fi: 'Sopimusneuvottelut', en: 'Contract Negotiation', fiDesc: 'Turvallisuusvaatimusten sisällyttäminen', enDesc: 'Security requirements inclusion' },
  { step: '5', fi: 'Jatkuva seuranta', en: 'Ongoing Monitoring', fiDesc: 'Säännöllinen riskiprofiilin päivitys', enDesc: 'Regular risk profile updates' }
];
---import Layout from '@/layouts/Layout.astro';
const title = 'Third-Party Risk';
const description = 'Implement a complete TPRM lifecycle: onboarding, due diligence, continuous monitoring, and exit.';
---
<Layout title={title} description={description}>
  <section class="bg-gradient-to-br from-green-50 via-white to-teal-50 py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl">
        <h1 class="text-4xl lg:text-5xl font-bold text-slate-900 mb-6">{title}</h1>
        <p class="text-xl text-slate-600 mb-8">{description}</p>
        <div class="bg-white rounded-xl p-6 shadow-sm border border-slate-200">
          <h2 class="text-lg font-semibold text-slate-900 mb-4">{lang==='fi' ? 'Mitä saat?' : 'What you get'}</h2>
          <p class="text-slate-600">{lang==='fi' ? 'Kattavan TPRM-järjestelmän, joka hallitsee toimittajariskejä koko elinkaaren ajan - perehdytyksestä jatkuvaan seurantaan ja mahdolliseen irtisanomiseen.' : 'A comprehensive TPRM system that manages vendor risks throughout the entire lifecycle - from onboarding to continuous monitoring and potential termination.'}</p>
        </div>
      </div>
    </div>
  </section>

  <section class="py-20 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-3xl font-bold text-slate-900 mb-4">{lang==='fi' ? 'TPRM-komponentit' : 'TPRM Components'}</h2>
        <p class="text-xl text-slate-600 max-w-3xl mx-auto">{lang==='fi' ? 'Kokonaisvaltainen lähestymistapa kolmannen osapuolen riskien hallintaan.' : 'Comprehensive approach to third-party risk management.'}</p>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
        {tprmComponents.map(tc => (
          <div class="bg-gradient-to-br from-slate-50 to-white p-8 rounded-xl border border-slate-200 hover:shadow-xl transition-all duration-300">
            <div class="w-16 h-16 bg-green-100 rounded-xl flex items-center justify-center mb-6">
              <Icon name={tc.icon} className="w-8 h-8 text-green-600" />
            </div>
            <h3 class="text-xl font-bold text-slate-900 mb-2">{lang==='fi' ? tc.titleFi : tc.titleEn}</h3>
            <p class="text-slate-600">{lang==='fi' ? tc.descFi : tc.descEn}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <section class="py-20 bg-slate-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-3xl font-bold text-slate-900 mb-4">{lang==='fi' ? 'Riskikategoriat' : 'Risk Categories'}</h2>
        <p class="text-xl text-slate-600 max-w-3xl mx-auto">{lang==='fi' ? 'Keskeiset riskialueet kolmannen osapuolen palveluissa.' : 'Key risk areas in third-party services.'}</p>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
        {riskCategories.map(rc => (
          <div class="bg-white p-6 rounded-xl border border-slate-200 hover:shadow-lg transition-all duration-300">
            <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4">
              <Icon name={rc.icon} className="w-6 h-6 text-green-600" />
            </div>
            <h3 class="text-lg font-bold text-slate-900 mb-2">{lang==='fi' ? rc.titleFi : rc.titleEn}</h3>
            <p class="text-slate-600 text-sm">{lang==='fi' ? rc.descFi : rc.enDesc}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <section class="py-20 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-3xl font-bold text-slate-900 mb-4">{lang==='fi' ? 'TPRM-elinkaari' : 'TPRM Lifecycle'}</h2>
        <p class="text-xl text-slate-600 max-w-3xl mx-auto">{lang==='fi' ? 'Strukturoitu prosessi toimittajariskien hallintaan koko yhteistyön ajan.' : 'Structured process for managing vendor risks throughout the entire partnership.'}</p>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
        {tprmLifecycle.map((lifecycle, index) => (
          <div class="bg-gradient-to-br from-slate-50 to-white p-8 rounded-xl border border-slate-200">
            <div class="w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center mb-4 text-white font-bold">{index + 1}</div>
            <h3 class="text-xl font-bold text-slate-900 mb-4">{lang==='fi' ? lifecycle.titleFi : lifecycle.titleEn}</h3>
            <ul class="space-y-2">
              {(lang==='fi' ? lifecycle.itemsFi : lifecycle.itemsEn).map(item => (
                <li class="flex items-start">
                  <Icon name="check" className="w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0" />
                  <span class="text-slate-600">{item}</span>
                </li>
              ))}
            </ul>
          </div>
        ))}
      </div>
    </div>
  </section>

  <section class="py-20 bg-slate-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-3xl font-bold text-slate-900 mb-4">{lang==='fi' ? 'Arviointikriteerit' : 'Assessment Criteria'}</h2>
        <p class="text-xl text-slate-600 max-w-3xl mx-auto">{lang==='fi' ? 'Keskeisimmät tekijät toimittajien riskiarvioinnissa.' : 'Key factors in vendor risk assessment.'}</p>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
        {assessmentCriteria.map(ac => (
          <div class="bg-white p-6 rounded-xl border border-slate-200 hover:shadow-lg transition-all duration-300 text-center">
            <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4 mx-auto">
              <Icon name={ac.icon} className="w-6 h-6 text-green-600" />
            </div>
            <h3 class="text-lg font-bold text-slate-900 mb-2">{lang==='fi' ? ac.titleFi : ac.titleEn}</h3>
            <p class="text-slate-600 text-sm">{lang==='fi' ? ac.descFi : ac.enDesc}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <section class="py-20 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-3xl font-bold text-slate-900 mb-4">{lang==='fi' ? 'Toteutusprosessi' : 'Implementation Process'}</h2>
        <p class="text-xl text-slate-600 max-w-3xl mx-auto">{lang==='fi' ? 'Vaiheittainen lähestymistapa TPRM-järjestelmän rakentamiseen.' : 'Step-by-step approach to building a TPRM system.'}</p>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-5 gap-6">
        {process.map(step => (
          <div class="text-center">
            <div class="w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4 text-white text-xl font-bold">{step.step}</div>
            <h3 class="text-lg font-semibold text-slate-900 mb-1">{lang==='fi' ? step.fi : step.en}</h3>
            <p class="text-slate-600 text-sm">{lang==='fi' ? step.fiDesc : step.enDesc}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <section class="py-20 bg-slate-900 text-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-3xl font-bold mb-6">{lang==='fi' ? 'Rakennetaanko TPRM-järjestelmä?' : 'Ready to build a TPRM system?'}</h2>
      <p class="text-xl text-slate-300 mb-8 max-w-3xl mx-auto">{lang==='fi' ? 'Keskustellaan toimittajariskitarpeistanne ja suunnitellaan tehokas hallintamalli.' : 'Let\'s discuss your vendor risk needs and design an effective management model.'}</p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <Button href="/contact" variant="primary" className="text-lg px-8 py-3">{lang==='fi' ? 'Ota yhteyttä' : 'Get in Touch'}</Button>
        <Button href="/contact?consultation=true" variant="secondary" className="text-lg px-8 py-3">{lang==='fi' ? 'Varaa konsultaatio' : 'Book Consultation'}</Button>
      </div>
    </div>
  </section>
</Layout>

