---
import Layout from '@/layouts/Layout.astro';
import Icon from '@/components/ui/icons/Icon.astro';

const currentPath = Astro.url.pathname;
const lang = currentPath.startsWith('/fi') ? 'fi' : 'en';

const title = lang === 'fi' ? 'Resurssikeskus' : 'Resource Hub';
const description = lang === 'fi' 
  ? 'Kattava kokoelma kyberturvallisuuden oppaita, työkaluja ja resursseja. Ilmaiset mallit, tarkistuslistat ja asiantuntija-artikkelit.'
  : 'Comprehensive collection of cybersecurity guides, tools and resources. Free templates, checklists and expert articles.';

const resourceCategories = [
  {
    icon: 'book-open',
    titleFi: 'Oppaat ja artikkelit',
    titleEn: 'Guides & Articles',
    descFi: 'Syvälliset toteutusoppaat ja asiantuntija-artikkelit',
    descEn: 'In-depth implementation guides and expert articles',
    href: '/blog',
    countFi: '50+ artikkelia',
    countEn: '50+ articles',
    features: [
      { fi: 'ISO 27001 toteutusopas', en: 'ISO 27001 implementation guide' },
      { fi: 'NIS2-direktiivin käsikirja', en: 'NIS2 directive handbook' },
      { fi: 'GDPR tietosuoja-opas', en: 'GDPR privacy guide' },
      { fi: 'SOC 2 valmiusopas', en: 'SOC 2 readiness guide' }
    ]
  },
  {
    icon: 'shield',
    titleFi: 'Säädöskehikot',
    titleEn: 'Regulatory Frameworks',
    descFi: 'Yksityiskohtaiset kuvaukset tärkeimmistä säädöksistä',
    descEn: 'Detailed descriptions of key regulations',
    href: '/regulatory',
    countFi: '6 säädöstä',
    countEn: '6 frameworks',
    features: [
      { fi: 'NIS2-direktiivi', en: 'NIS2 Directive' },
      { fi: 'GDPR tietosuoja-asetus', en: 'GDPR Regulation' },
      { fi: 'DORA resilienssisääntely', en: 'DORA resilience regulation' },
      { fi: 'eIDAS luottamuspalvelut', en: 'eIDAS trust services' }
    ]
  },
  {
    icon: 'settings',
    titleFi: 'Standardit ja kehikot',
    titleEn: 'Standards & Frameworks',
    descFi: 'Kansainväliset turvallisuusstandardit ja parhaat käytännöt',
    descEn: 'International security standards and best practices',
    href: '/frameworks',
    countFi: '7 standardia',
    countEn: '7 standards',
    features: [
      { fi: 'ISO 27001 tietoturvallisuus', en: 'ISO 27001 information security' },
      { fi: 'SOC 2 palvelukontrollit', en: 'SOC 2 service controls' },
      { fi: 'Common Criteria arviointi', en: 'Common Criteria evaluation' },
      { fi: 'Cyber Essentials perusteet', en: 'Cyber Essentials fundamentals' }
    ]
  },
  {
    icon: 'tool',
    titleFi: 'Tuki ja työkalut',
    titleEn: 'Support & Tools',
    descFi: 'Käytännön työkalut ja tukimateriaalit',
    descEn: 'Practical tools and support materials',
    href: '/support',
    countFi: '100+ työkalua',
    countEn: '100+ tools',
    features: [
      { fi: 'Ilmaiset Excel-mallit', en: 'Free Excel templates' },
      { fi: 'Tarkistuslistat PDF:nä', en: 'Checklists as PDFs' },
      { fi: 'Riskinarviointityökalut', en: 'Risk assessment tools' },
      { fi: 'Compliance-dashboardit', en: 'Compliance dashboards' }
    ]
  },
  {
    icon: 'monitor',
    titleFi: 'Alusta ja teknologia',
    titleEn: 'Platform & Technology',
    descFi: 'DataNova-alustan ominaisuudet ja teknologia',
    descEn: 'DataNova platform features and technology',
    href: '/platform',
    countFi: 'SaaS-alusta',
    countEn: 'SaaS platform',
    features: [
      { fi: 'Automaattinen compliance-seuranta', en: 'Automated compliance monitoring' },
      { fi: 'Riskinhallinta-dashboard', en: 'Risk management dashboard' },
      { fi: 'Audit-valmistelut', en: 'Audit preparations' },
      { fi: 'Raportointi ja analytiikka', en: 'Reporting and analytics' }
    ]
  },
  {
    icon: 'users',
    titleFi: 'Koulutus ja tuki',
    titleEn: 'Training & Support',
    descFi: 'Asiantuntijatuki ja koulutusmateriaalit',
    descEn: 'Expert support and training materials',
    href: '/support/knowledge-base',
    countFi: 'Tukipalvelut',
    countEn: 'Support services',
    features: [
      { fi: 'Tietopankki ja FAQ', en: 'Knowledge base and FAQ' },
      { fi: 'Webinaarit ja koulutukset', en: 'Webinars and training' },
      { fi: 'Asiantuntijatuki', en: 'Expert support' },
      { fi: 'Yhteisöfoorumi', en: 'Community forum' }
    ]
  }
];

const featuredResources = [
  {
    titleFi: 'ISO 27001 pikaopas',
    titleEn: 'ISO 27001 Quick Start Guide',
    descFi: '25-sivuinen toteutussuunnitelma ISO 27001 -standardin käyttöönottoon',
    descEn: '25-page implementation roadmap for ISO 27001 standard deployment',
    type: 'Guide',
    pages: '25',
    updated: '2024-12',
    href: '/resources/guides/iso-27001-quick-start',
    category: 'guide'
  },
  {
    titleFi: 'NIS2 compliance tarkistuslista',
    titleEn: 'NIS2 Compliance Checklist',
    descFi: 'Täydellinen vaatimusten arviointi työkalu NIS2-direktiivin mukaiseen compliance-työhön',
    descEn: 'Complete requirement assessment tool for NIS2 directive compliance work',
    type: 'Checklist',
    pages: '18',
    updated: '2024-12',
    href: '/resources/guides/nis2-compliance-checklist',
    category: 'checklist'
  },
  {
    titleFi: 'GDPR tietosuojavaikutusten arviointi malli',
    titleEn: 'GDPR Privacy Impact Assessment Template',
    descFi: 'Valmis käyttöön otettava PIA-kehikko tietosuojasääntelyn noudattamiseen',
    descEn: 'Ready-to-use PIA framework for privacy regulation compliance',
    type: 'Template',
    pages: '12',
    updated: '2024-11',
    href: '/resources/guides/gdpr-pia-template',
    category: 'template'
  },
  {
    titleFi: 'DORA compliance tarkistuslista',
    titleEn: 'DORA Compliance Checklist',
    descFi: 'Vaiheittainen tarkistuslista digitaalisen resilienssisääntelyn noudattamiseen',
    descEn: 'Step-by-step checklist for digital operational resilience compliance',
    type: 'Checklist',
    pages: '15',
    updated: '2024-10',
    href: '/resources/guides/dora-compliance-checklist',
    category: 'checklist'
  },
  {
    titleFi: 'Cyber Essentials arviointi malli',
    titleEn: 'Cyber Essentials Assessment Template',
    descFi: 'Valmiiksi täytettävä arviointi malli Cyber Essentials -sertifiointiin',
    descEn: 'Pre-filled assessment template for Cyber Essentials certification',
    type: 'Template',
    pages: '8',
    updated: '2024-11',
    href: '/downloads/cyber-essentials-template.xlsx',
    category: 'template'
  },
  {
    titleFi: 'SOC 2 valmiusopas',
    titleEn: 'SOC 2 Readiness Guide',
    descFi: 'Kattava opas SOC 2 -auditin valmisteluun ja läpiviemiseen',
    descEn: 'Comprehensive guide for SOC 2 audit preparation and execution',
    type: 'Guide',
    pages: '32',
    updated: '2024-10',
    href: '/downloads/soc2-readiness-guide.pdf',
    category: 'guide'
  }
];

const upcomingWebinars = [
  {
    titleFi: 'NIS2 toteutus: Mitä suomalaisten yritysten tulee tietää',
    titleEn: 'NIS2 Implementation: What Finnish Companies Need to Know',
    descFi: 'Tärkeää ohjausta organisaatioille, jotka valmistautuvat NIS2-direktiivin compliance-vaatimuksiin.',
    descEn: 'Essential guidance for organizations preparing for NIS2 compliance requirements.',
    date: 'September 15, 2025',
    time: '14:00 - 15:30',
    duration: '90',
    speaker: 'Maria Korhonen, CISO',
    attendees: '250+',
    registrationLink: '/webinars/nis2-implementation'
  },
  {
    titleFi: 'DORA compliance rahoituspalveluille',
    titleEn: 'DORA Compliance for Financial Services',
    descFi: 'Valmistelua rahoituslaitosten digitaalisen toimintakestävyyden vaatimuksiin.',
    descEn: 'Preparing financial institutions for digital operational resilience requirements.',
    date: 'September 22, 2025',
    time: '13:00 - 14:30',
    duration: '90',
    speaker: 'Jukka Virtanen, Lead Consultant',
    attendees: '180+',
    registrationLink: '/webinars/dora-financial'
  },
  {
    titleFi: 'ISO 27001:2022 muutokset ja vaikutukset',
    titleEn: 'ISO 27001:2022 Changes and Impact',
    descFi: 'Uusimpien päivitysten ymmärtäminen ja niiden vaikutukset organisaatiolle.',
    descEn: 'Understanding the latest updates and their implications for your organization.',
    date: 'September 29, 2025',
    time: '15:00 - 16:00',
    duration: '60',
    speaker: 'Anna Salminen, Senior Security Advisor',
    attendees: '200+',
    registrationLink: '/webinars/iso27001-updates'
  }
];

const stats = [
  { valueFi: '500+', valueEn: '500+', labelFi: 'Ilmaista resurssia', labelEn: 'Free resources' },
  { valueFi: '50k+', valueEn: '50k+', labelFi: 'Latausta kuukaudessa', labelEn: 'Downloads per month' },
  { valueFi: '25+', valueEn: '25+', labelFi: 'Asiantuntija-artikkelia', labelEn: 'Expert articles' },
  { valueFi: '98%', valueEn: '98%', labelFi: 'Asiakastyytyväisyys', labelEn: 'Customer satisfaction' }
];
---

<Layout title={title} description={description}>
  <!-- Hero Section -->
  <section class="bg-gradient-to-br from-blue-50 to-indigo-100 py-20">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center">
        <div class="inline-flex items-center px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-sm font-medium mb-6">
          <Icon name="book-open" class="w-4 h-4 mr-2" />
          {lang === 'fi' ? 'Ilmaiset resurssit' : 'Free Resources'}
        </div>
        <h1 class="text-4xl md:text-6xl font-bold text-gray-900 mb-6">
          {lang === 'fi' ? 'Kyberturvallisuuden resurssikeskus' : 'Cybersecurity Resource Hub'}
        </h1>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto mb-8">
          {lang === 'fi' 
            ? 'Kattava kokoelma asiantuntija-oppaita, työkaluja ja malleja. Kaikki tarvitsemasi kyberturvallisuuden ja compliance-toteutusten tueksi.'
            : 'Comprehensive collection of expert guides, tools and templates. Everything you need to support cybersecurity and compliance implementations.'
          }
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a 
            href="#categories" 
            class="inline-flex items-center justify-center px-6 py-3 text-center font-medium text-white bg-teal-800 hover:bg-teal-700 rounded-lg transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-teal-500"
          >
            {lang === 'fi' ? 'Selaa resursseja' : 'Browse Resources'}
          </a>
          <a 
            href="/contact" 
            class="inline-flex items-center justify-center px-6 py-3 text-center font-medium text-slate-800 bg-white hover:bg-slate-50 border-2 border-teal-800 hover:border-teal-700 hover:text-teal-700 rounded-lg transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-teal-500"
          >
            {lang === 'fi' ? 'Pyydä neuvoja' : 'Get Expert Help'}
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="py-16 bg-white">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
        {stats.map((stat) => (
          <div class="text-center">
            <div class="text-3xl md:text-4xl font-bold text-blue-600 mb-2">
              {lang === 'fi' ? stat.valueFi : stat.valueEn}
            </div>
            <div class="text-gray-600">
              {lang === 'fi' ? stat.labelFi : stat.labelEn}
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Featured Resources -->
  <section class="py-20 bg-gray-50">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-3xl font-bold text-gray-900 mb-4">
          {lang === 'fi' ? 'Suosituimmat resurssit' : 'Featured Resources'}
        </h2>
        <p class="text-lg text-gray-600 max-w-3xl mx-auto">
          {lang === 'fi' 
            ? 'Uusimmat ja suosituimmat oppaat, tarkistuslistat ja mallit heti ladattavissa'
            : 'Latest and most popular guides, checklists and templates ready for download'
          }
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {featuredResources.map((resource) => (
          <div class="bg-white rounded-lg p-8 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
            <div class="flex items-start justify-between mb-4">
              <div class="flex items-center space-x-2">
                <div class={`w-8 h-8 rounded-lg flex items-center justify-center ${
                  resource.category === 'guide' ? 'bg-blue-100' :
                  resource.category === 'checklist' ? 'bg-green-100' :
                  resource.category === 'template' ? 'bg-purple-100' : 'bg-gray-100'
                }`}>
                  <Icon name={
                    resource.category === 'guide' ? 'book-open' :
                    resource.category === 'checklist' ? 'check-square' :
                    resource.category === 'template' ? 'file-text' : 'file'
                  } class={`w-4 h-4 ${
                    resource.category === 'guide' ? 'text-blue-600' :
                    resource.category === 'checklist' ? 'text-green-600' :
                    resource.category === 'template' ? 'text-purple-600' : 'text-gray-600'
                  }`} />
                </div>
                <span class={`text-sm font-medium ${
                  resource.category === 'guide' ? 'text-blue-600' :
                  resource.category === 'checklist' ? 'text-green-600' :
                  resource.category === 'template' ? 'text-purple-600' : 'text-gray-600'
                }`}>{resource.type}</span>
              </div>
              <div class="text-sm text-gray-500">
                {resource.pages} {lang === 'fi' ? 'sivua' : 'pages'}
              </div>
            </div>
            <h3 class="text-xl font-semibold text-gray-900 mb-3">
              {lang === 'fi' ? resource.titleFi : resource.titleEn}
            </h3>
            <p class="text-gray-600 mb-6">
              {lang === 'fi' ? resource.descFi : resource.descEn}
            </p>
            <div class="flex items-center justify-between">
              <span class="text-sm text-gray-500">
                {lang === 'fi' ? 'Päivitetty' : 'Updated'} {resource.updated}
              </span>
              <a 
                href={resource.href} 
                class="inline-flex items-center justify-center px-4 py-2 text-center font-medium text-white bg-teal-800 hover:bg-teal-700 rounded-lg transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-teal-500"
              >
                <Icon name="arrow-right" class="w-4 h-4 mr-2" />
                {lang === 'fi' ? 'Lue lisää' : 'Read more'}
              </a>
            </div>
          </div>
        ))}
      </div>

      <div class="text-center mt-12">
        <a 
          href="/resources/all" 
          class="inline-flex items-center justify-center px-6 py-3 text-center font-medium text-slate-800 bg-white hover:bg-slate-50 border-2 border-teal-800 hover:border-teal-700 hover:text-teal-700 rounded-lg transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-teal-500"
        >
          {lang === 'fi' ? 'Näytä kaikki resurssit' : 'View All Resources'}
        </a>
      </div>
    </div>
  </section>

  <!-- Upcoming Webinars -->
  <section class="py-20">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-3xl font-bold text-gray-900 mb-4">
          {lang === 'fi' ? 'Tulevat webinaarit' : 'Upcoming Webinars'}
        </h2>
        <p class="text-lg text-gray-600 max-w-3xl mx-auto">
          {lang === 'fi' 
            ? 'Osallistu ilmaisiin webinaareihimme ja saa syvällistä tietoa säädösten vaatimuksista'
            : 'Join our free webinars and get in-depth insights into regulatory requirements'
          }
        </p>
      </div>

      <div class="grid md:grid-cols-3 gap-8">
        {upcomingWebinars.map((webinar) => (
          <div class="bg-gradient-to-br from-blue-50 to-indigo-100 rounded-lg p-8 border border-blue-200">
            <div class="flex items-start justify-between mb-4">
              <div class="flex items-center space-x-2">
                <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center">
                  <Icon name="video" class="w-4 h-4 text-white" />
                </div>
                <span class="text-sm font-medium text-blue-600">
                  {lang === 'fi' ? 'Webinaari' : 'Webinar'}
                </span>
              </div>
              <div class="text-right">
                <div class="text-sm font-semibold text-blue-600">{webinar.date}</div>
                <div class="text-xs text-blue-500">{webinar.time}</div>
              </div>
            </div>
            <h3 class="text-xl font-semibold text-gray-900 mb-3">
              {lang === 'fi' ? webinar.titleFi : webinar.titleEn}
            </h3>
            <p class="text-gray-700 mb-4">
              {lang === 'fi' ? webinar.descFi : webinar.descEn}
            </p>
            <div class="flex items-center justify-between mb-6">
              <div class="flex items-center space-x-2">
                <Icon name="clock" class="w-4 h-4 text-gray-500" />
                <span class="text-sm text-gray-600">
                  {webinar.duration} {lang === 'fi' ? 'min' : 'min'}
                </span>
              </div>
              <div class="flex items-center space-x-2">
                <Icon name="users" class="w-4 h-4 text-gray-500" />
                <span class="text-sm text-gray-600">
                  {webinar.attendees} {lang === 'fi' ? 'osallistujaa' : 'attendees'}
                </span>
              </div>
            </div>
            <a 
              href={webinar.registrationLink} 
              class="inline-flex items-center justify-center w-full px-6 py-3 text-center font-medium text-white bg-teal-800 hover:bg-teal-700 rounded-lg transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-teal-500"
            >
              <Icon name="calendar" class="w-4 h-4 mr-2" />
              {lang === 'fi' ? 'Rekisteröidy' : 'Register Now'}
            </a>
          </div>
        ))}
      </div>

      <div class="text-center mt-12">
        <p class="text-gray-600 mb-4">
          {lang === 'fi' 
            ? 'Kaikki webinaarit tallennetaan ja ovat saatavilla myöhemmin'
            : 'All webinars are recorded and available for later viewing'
          }
        </p>
        <a 
          href="/webinars" 
          class="inline-flex items-center justify-center px-6 py-3 text-center font-medium text-slate-800 bg-white hover:bg-slate-50 border-2 border-teal-800 hover:border-teal-700 hover:text-teal-700 rounded-lg transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-teal-500"
        >
          {lang === 'fi' ? 'Katso kaikki webinaarit' : 'View All Webinars'}
        </a>
      </div>
    </div>
  </section>

  <!-- Resource Categories -->
  <section id="categories" class="py-20 bg-white">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-3xl font-bold text-gray-900 mb-4">
          {lang === 'fi' ? 'Resurssi kategoriat' : 'Resource Categories'}
        </h2>
        <p class="text-lg text-gray-600 max-w-3xl mx-auto">
          {lang === 'fi' 
            ? 'Löydä tarvitsemasi resurssit helposti kategorioiden avulla'
            : 'Find the resources you need easily through categories'
          }
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {resourceCategories.map((category) => (
          <div class="bg-gradient-to-br from-gray-50 to-blue-50 rounded-lg p-8 hover:shadow-lg transition-shadow">
            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-6">
              <Icon name={category.icon} class="w-6 h-6 text-blue-600" />
            </div>
            <h3 class="text-xl font-semibold text-gray-900 mb-3">
              {lang === 'fi' ? category.titleFi : category.titleEn}
            </h3>
            <p class="text-gray-600 mb-4">
              {lang === 'fi' ? category.descFi : category.descEn}
            </p>
            <div class="text-sm font-medium text-blue-600 mb-4">
              {lang === 'fi' ? category.countFi : category.countEn}
            </div>
            
            <ul class="space-y-2 mb-6">
              {category.features.map((feature) => (
                <li class="flex items-start text-sm text-gray-600">
                  <Icon name="check" class="w-4 h-4 text-green-500 mr-2 mt-0.5 flex-shrink-0" />
                  {lang === 'fi' ? feature.fi : feature.en}
                </li>
              ))}
            </ul>
            
            <a 
              href={category.href} 
              class="inline-flex items-center justify-center w-full px-6 py-3 text-center font-medium text-slate-800 bg-white hover:bg-slate-50 border-2 border-teal-800 hover:border-teal-700 hover:text-teal-700 rounded-lg transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-teal-500"
            >
              {lang === 'fi' ? 'Selaa resursseja' : 'Browse Resources'}
            </a>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Newsletter Signup -->
  <section class="py-20 bg-gradient-to-r from-blue-600 to-indigo-700">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-3xl font-bold text-white mb-4">
        {lang === 'fi' ? 'Pysy ajan tasalla' : 'Stay Updated'}
      </h2>
      <p class="text-xl text-blue-100 mb-8">
        {lang === 'fi' 
          ? 'Saa uusimmat kyberturvallisuusresurssit ja -oivallukset suoraan sähköpostiisi'
          : 'Get the latest cybersecurity resources and insights delivered to your inbox'
        }
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center max-w-md mx-auto">
        <input 
          type="email" 
          placeholder={lang === 'fi' ? 'Sähköpostiosoitteesi' : 'Your email address'}
          class="flex-1 px-4 py-3 rounded-lg border-0 focus:ring-2 focus:ring-blue-300"
        />
        <button 
          type="button"
          class="inline-flex items-center justify-center px-6 py-3 text-center font-medium text-slate-800 bg-white hover:bg-slate-50 border-2 border-teal-800 hover:border-teal-700 hover:text-teal-700 rounded-lg transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-teal-500"
        >
          {lang === 'fi' ? 'Tilaa' : 'Subscribe'}
        </button>
      </div>
    </div>
  </section>
</Layout>
